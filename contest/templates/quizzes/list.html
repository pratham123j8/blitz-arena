{% load static %}
<link rel="stylesheet" href="{% static 'css/neo_glass_dashboard.css' %}">

<div class="shell">
  <div class="grid">

    <!-- Sidebar -->
    <aside class="glass sidebar">
      <div class="logo">
        <svg width="22" height="22" viewBox="0 0 24 24" fill="#9bd3ff"><path d="M12 2l9 4.9v9.2L12 21l-9-4.9V6.9L12 2z"/></svg>
        <span>Blitz Arena</span>
      </div>

      <nav class="nav">
        <a href="#" class="active">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M3 12l9-9 9 9-2 0 0 9-14 0 0-9z"/></svg>
          Home
        </a>
        <a href="#">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M4 6h16v2H4zm0 5h16v2H4zm0 5h10v2H4z"/></svg>
          Quizzes
        </a>
        <a href="#">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M3 5h18v14H3z M7 9h10v2H7z"/></svg>
          Categories
        </a>
        <a href="#">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M12 12a5 5 0 100-10 5 5 0 000 10zm-9 9c0-4 8-6 9-6s9 2 9 6v1H3v-1z"/></svg>
          Profile
        </a>
        <a href="#">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="currentColor"><path d="M16 13v-2H7V8l-5 4 5 4v-3zM20 3h-8v2h8v14h-8v2h8a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2z"/></svg>
          Logout
        </a>
      </nav>
    </aside>

    <!-- Center: Header + List -->
    <section>
      <div class="glass header">
        <div class="h-title">Home</div>

        <div class="tabs">
          <a href="#" class="tab active">Following</a>
          <a href="#" class="tab">Communities</a>
          <a href="#" class="tab">Subscriptions</a>
        </div>

        <div class="h-tools">
          <div class="search">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="#a2acc0"><path d="M10 4a6 6 0 104.47 10.03l4.75 4.75 1.41-1.41-4.75-4.75A6 6 0 0010 4z"/></svg>
            <input type="text" name="search" value="{{ request.GET.search }}" placeholder="Search quizzes…">
          </div>
          <a class="iconbtn" href="#" title="New">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M19 13H13v6h-2v-6H5v-2h6V5h2v6h6z"/></svg>
          </a>
        </div>
      </div>

      <div class="glass list">
        {% for q in quizzes %}
          <div class="item">
            <div class="badge {% if q.subject == 'MATH' %}math{% elif q.subject == 'PHYSICS' %}physics{% endif %}">
              {% if q.subject == 'MATH' %}M{% elif q.subject == 'PHYSICS' %}P{% else %}Q{% endif %}
            </div>

            <div class="meta">
              <div class="title">{{ q.title }}</div>
              <div class="sub">
                {{ q.created_at|date:"M j, Y" }} •
                <span class="chips">
                  <span class="chip">{{ q.subject }}</span>
                  <span class="chip">⏱ {{ q.duration_minutes|default:"—" }} min</span>
                  {% if q.is_rated %}<span class="chip">Rated</span>{% endif %}
                </span>
              </div>
            </div>

            <a class="btn-3d" href="{% url 'quiz-detail' pk=q.id %}?format=html">
              Start
              <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor"><path d="M8 5v14l11-7z"/></svg>
            </a>
          </div>
        {% empty %}
          <div class="item" style="justify-content:center">No quizzes yet.</div>
        {% endfor %}
      </div>
    </section>

    <!-- Right Panel -->
    <aside class="glass panel--right profile">
      <div class="card glass" style="margin-bottom:12px">
        <div class="avatar"></div>
        <div>
          <div style="font-weight:800">James Gandolfiny</div>
          <div style="color:var(--muted); font-size:12px">Verified</div>
        </div>
      </div>

      <div class="stat" style="margin-bottom:10px">
        <span>Total Score</span><b>$13,445</b>
      </div>
      <div class="stat" style="margin-bottom:10px">
        <span>Quizzes</span><b>214</b>
      </div>
      <div class="stat">
        <span>Rank</span><b>#27</b>
      </div>
    </aside>

  </div>
</div>
